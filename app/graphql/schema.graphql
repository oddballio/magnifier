type Comment {
  body: String!
  createdAt: String!
  id: Int!
  type: String!
  updatedAt: String!
  userId: Int!
  weekInReviewId: Int!
}

# Attributes for creating or updating a Comment.
input CommentInput {
  body: String!
  type: String!
  userId: Int
  weekInReviewId: Int!
}

# Autogenerated return type of CreateCommentMutation
type CreateCommentMutationPayload {
  # The comment just added
  comment: Comment
  errors: [String!]
}

# Autogenerated return type of CreateStatisticMutation
type CreateStatisticMutationPayload {
  errors: [String!]

  # The statistic just added
  statistic: Statistic
}

# Autogenerated return type of DeleteAccomplishmentMutation
type DeleteAccomplishmentMutationPayload {
  errors: [String!]
  success: Boolean
}

type GithubUser {
  apiUrl: String
  avatarUrl: String
  createdAt: String!
  githubId: Int!
  githubLogin: String!
  htmlUrl: String
  id: Int!
  oddballEmployee: Boolean!

  # This GithubUser's statistics, or null if this GithubUser has no statistics.
  statistics: [Statistic!]
  updatedAt: String!
  user: User
  userId: Int
}

type Mutation {
  # Updates a Comment with the passed data.
  createComment(attributes: CommentInput!): CreateCommentMutationPayload

  # Creates a Statistic with the passed data.
  createStatistic(attributes: StatisticInput!): CreateStatisticMutationPayload

  # Deletes the Accomplishment with the passed data.
  deleteAccomplishment(statisticId: Int!, weekInReviewId: Int!): DeleteAccomplishmentMutationPayload

  # Updates a Comment with the passed data.
  updateComment(attributes: CommentInput!, id: Int!): UpdateCommentMutationPayload

  # Updates a Statistic with the passed data.
  updateStatistic(attributes: StatisticInput!, id: Int!): UpdateStatisticMutationPayload

  # Updates a User with the access_token
  updateUser(githubUsername: String, organizationId: Int, personalAccessToken: String): UpdateUserDetailsMutationPayload
}

type Organization {
  createdAt: String!
  id: Int!
  name: String!

  # This organization's repositories, or null if this organization has no repositories.
  repositories: [Repository!]
  updatedAt: String!
  url: String!
}

type Query {
  # The Github User with the passed criteria.
  githubUser(githubId: Int, githubLogin: String, id: ID): GithubUser!

  # All Github Users.
  githubUsers(hasUser: Boolean, limit: Int): [GithubUser!]!

  # The Logged in user
  me: User

  # The organization with the passed criteria.
  organization(id: ID, name: String): Organization!

  # All organizations.
  organizations(limit: Int): [Organization!]!

  # All repositories.
  repositories(limit: Int): [Repository!]!

  # The repository with the passed criteria.
  repository(id: ID, name: String): Repository!

  # The statistic with the passed criteria.
  statistic(id: ID, sourceId: String): Statistic!

  # Returns all the statistics that meet the passed criteria.
  statistics(
    # The datetime, in iso8601 format, that the Statistic records will be scoped to. For example, "2018-10-06T20:31:41Z"
    datetime: String!

    # Enum of choices that will define the datetime attribute the statistics will be scoped to.
    datetimeType: StatisticDatetimeEnum!

    # If true will return statistics for the passed datetime's week only
    forWeek: Boolean

    # The GithubUser#github_id that the Statistics are scoped to.
    githubUserId: Int!

    # Enum of choices that define the relationship between the Statistic and associated GithubUser.
    ownershipType: StatisticOwnershipEnum!

    # The Statistic#state
    state: [StatisticStatesEnum!]!

    # The Statistic#source_type
    type: [StatisticSourceTypeEnum!]!
  ): [Statistic!]!

  # The User with the passed criteria.
  user(githubUsername: String, id: ID): User!

  # All Users.
  users(limit: Int): [User!]!

  # The WeekInReview for the current user and passed date.
  weekInReview(
    # Date that falls in the desired WeekInReview.  Format is "YYYY-MM-DD"
    date: String!
  ): WeekInReview!
}

type Repository {
  createdAt: String!
  id: Int!
  name: String!
  organization: Organization!
  updatedAt: String!
  url: String!
}

type Statistic {
  assignees: [Int!]
  createdAt: String!

  # This Statistic's GithubUsers, or null if this Statistic has no GithubUsers.
  githubUsers: [GithubUser!]
  id: Int!

  # This Statistic's Organization
  organization: Organization!
  organizationId: Int!

  # This Statistic's Repository.
  repository: Repository!
  repositoryId: Int!
  source: String!
  sourceClosedAt: String
  sourceCreatedAt: String
  sourceCreatedBy: Int!
  sourceId: String!
  sourceType: String!
  sourceUpdatedAt: String
  state: String!
  title: String!
  updatedAt: String!
  url: String!
}

# During a query, defines the datetime attribute the statistics will be scoped to.
enum StatisticDatetimeEnum {
  # Statistics closed after the passed datetime
  CLOSED

  # Statistics created after the passed datetime
  CREATED

  # Statistics updated after the passed datetime
  UPDATED
}

# Attributes for creating or updating a Statistic.
input StatisticInput {
  organizationId: Int!
  repositoryId: Int!
  source: String!
  sourceClosedAt: String
  sourceCreatedAt: String!
  sourceId: String!
  sourceType: String!
  sourceUpdatedAt: String!
  state: String!
  title: String!
  url: String!
}

# During a query, defines the relationship between the Statistic and associated
# GithubUser.  Whether the user created the statistic, or is assigned to it.
enum StatisticOwnershipEnum {
  # GithubUser is assigned to the statistic
  ASSIGNED

  # GithubUser created the statistic
  CREATED
}

# The source type of the statistics
enum StatisticSourceTypeEnum {
  # An issue
  ISSUE

  # A pull request
  PR
}

# The state of the statistics
enum StatisticStatesEnum {
  # A closed statistic
  CLOSED

  # A merged statistic
  MERGED

  # An open statistic
  OPEN
}

# Autogenerated return type of UpdateCommentMutation
type UpdateCommentMutationPayload {
  # The comment just added
  comment: Comment
  errors: [String!]
}

# Autogenerated return type of UpdateStatisticMutation
type UpdateStatisticMutationPayload {
  errors: [String!]

  # The statistic just added
  statistic: Statistic
}

# Autogenerated return type of UpdateUserDetailsMutation
type UpdateUserDetailsMutationPayload {
  errors: [String!]
  user: User
}

type User {
  accessToken: Boolean
  createdAt: String!
  email: String!
  firstName: String!
  githubUser: GithubUser
  githubUsername: String!
  id: Int!
  lastName: String!
  org: Organization
  updatedAt: String!
}

type WeekInReview {
  comments: [Comment!]
  createdAt: String!

  # The WeekInReviews user
  employee: User!
  endDate: String!
  id: Int!
  issuesClosed: [Statistic!]
  issuesCreated: [Statistic!]
  issuesWorked: [Statistic!]
  pullRequestsCreated: [Statistic!]
  pullRequestsMerged: [Statistic!]
  pullRequestsWorked: [Statistic!]
  startDate: String!

  # The sourceUpdateAt for the most recently updated Statistic
  statisticsMostRecentUpdatedAt: String
  updatedAt: String!
  userId: Int!
}